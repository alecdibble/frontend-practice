<div ng-controller="GuestBookCtrl as gb" class="guestbook-container">
	<div class="guestbook-auth">
		<div ng-if="loginStatus()">
			<h2>Leave a message</h2>
			<div ng-show="error" class="alert alert-danger">{{error}}</div>
			<form name="gb.gbForm" ng-submit="entryHandler()" role="form">
			    <div class="form-group">
			        <label for="phone"  class="label">Phone Number</label>
			        <input type="text" name="phone" id="phone" class="form-control" ng-model="newEntry.phone" required />
			        <span ng-show="gb.gbForm.phone.$dirty && gb.gbForm.phone.$error.required" class="help-block">Phone Number is required</span>
			    </div>
			    <div class="form-group">
			        <label for="message"  class="label">Message</label>
			        <textarea type="password" name="message" id="message" class="form-control" ng-model="newEntry.message" required ></textarea>
			        <span ng-show="gb.gbForm.message.$dirty && gb.gbForm.message.$error.required" class="help-block">A message is required</span>
			    </div>
			    <div class="form-actions">
			        <button type="submit" ng-disabled="gb.gbForm.$invalid || dataLoading" class="btn btn-danger">Submit Message</button>
			    </div>
			</form>
		</div>
		<div ng-if="!loginStatus()">
			<h2>Please login to leave a message</h2>
		</div>
	</div>
	<div class="">
		<h1>Guest Book</h1>
		<div ng-repeat="entry in entries" class="guestbook-entries">
		  <h2>Name: <span ng-bind-html="entry.user"></span></h2>
		  <h3>Phone Number: <span ng-bind-html="entry.phone"></span></h3>
		  <h3>Message: </h3><p ng-bind-html="entry.message"></p>
		</div>
	</div>
</div>